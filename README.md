-- MySQL Script generated by MySQL Workbench
-- Wed Mar  8 13:26:51 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`Økt`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Økt` (
  `idØkt` INT NOT NULL AUTO_INCREMENT,
  `Dato` DATE NOT NULL,
  `Start Tid` DATETIME NOT NULL,
  `Slutt Tid` DATETIME NOT NULL,
  `Dagsform` INT NOT NULL,
  `Notat` VARCHAR(400) NOT NULL,
  PRIMARY KEY (`idØkt`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Øvelse`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Øvelse` (
  `idØvelse` INT NOT NULL,
  `Navn` VARCHAR(45) NOT NULL,
  `Beskrivelse` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idØvelse`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Mål`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Mål` (
  `idMål` INT NOT NULL,
  `Målsetting` VARCHAR(45) NULL,
  `Sett` INT NULL,
  `Vekt` INT NULL,
  `Repitisjon` INT NULL,
  `Distanse` INT NULL,
  `Tid` VARCHAR(45) NULL,
  `StartTid` VARCHAR(45) NOT NULL,
  `SluttTud` VARCHAR(45) NOT NULL,
  `idØvelse` INT NOT NULL,
  PRIMARY KEY (`idMål`),
  INDEX `idØvelse_idx` (`idØvelse` ASC),
  CONSTRAINT `idØvelse`
    FOREIGN KEY (`idØvelse`)
    REFERENCES `mydb`.`Øvelse` (`idØvelse`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Resultat`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Resultat` (
  `idResultat` INT NOT NULL,
  `Resultat` VARCHAR(45) NOT NULL,
  `idØkt` INT NOT NULL,
  `idØvelse` INT NOT NULL,
  PRIMARY KEY (`idResultat`),
  INDEX `idØkt_idx` (`idØkt` ASC),
  INDEX `idØvelse_idx` (`idØvelse` ASC),
  CONSTRAINT `idØkt`
    FOREIGN KEY (`idØkt`)
    REFERENCES `mydb`.`Økt` (`idØkt`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `idØvelse`
    FOREIGN KEY (`idØvelse`)
    REFERENCES `mydb`.`Øvelse` (`idØvelse`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Styrkeøvelse`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Styrkeøvelse` (
  `idStyrkeøvelse` INT NOT NULL,
  `Muskelgruppe` VARCHAR(45) NOT NULL,
  `antSett` INT NOT NULL,
  `antRep` INT NOT NULL,
  `Vekt` INT NOT NULL,
  `idResultat` INT NOT NULL,
  PRIMARY KEY (`idStyrkeøvelse`),
  INDEX `idResultat_idx` (`idResultat` ASC),
  CONSTRAINT `idResultat`
    FOREIGN KEY (`idResultat`)
    REFERENCES `mydb`.`Resultat` (`idResultat`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Kondisjonsøvelse`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Kondisjonsøvelse` (
  `idKondisjonsøvelse` INT NOT NULL,
  `Distanse` INT NOT NULL,
  `Tid` INT NOT NULL,
  `idResultat` INT NOT NULL,
  PRIMARY KEY (`idKondisjonsøvelse`),
  INDEX `idResultat_idx` (`idResultat` ASC),
  CONSTRAINT `idResultat`
    FOREIGN KEY (`idResultat`)
    REFERENCES `mydb`.`Resultat` (`idResultat`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Puls`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Puls` (
  `idPuls` INT NOT NULL,
  `Puls` INT NOT NULL,
  `Klokkeslett` INT NOT NULL,
  `idKondisjonsøvelse` INT NOT NULL,
  PRIMARY KEY (`idPuls`),
  INDEX `idKondisjonsøvekse_idx` (`idKondisjonsøvelse` ASC),
  CONSTRAINT `idKondisjonsøvekse`
    FOREIGN KEY (`idKondisjonsøvelse`)
    REFERENCES `mydb`.`Kondisjonsøvelse` (`idKondisjonsøvelse`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Jogging`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Jogging` (
  `idJogging` INT NOT NULL,
  `Fart` VARCHAR(45) NOT NULL,
  `idKondisjonsøvelse` INT NOT NULL,
  PRIMARY KEY (`idJogging`),
  INDEX `idKondisjonsøvelse_idx` (`idKondisjonsøvelse` ASC),
  CONSTRAINT `idKondisjonsøvelse`
    FOREIGN KEY (`idKondisjonsøvelse`)
    REFERENCES `mydb`.`Kondisjonsøvelse` (`idKondisjonsøvelse`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Svømming`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Svømming` (
  `idSvømming` INT NOT NULL,
  `Stilart` VARCHAR(45) NOT NULL,
  `Vanntemp` DOUBLE NOT NULL,
  `idKondisjonsøvelse` INT NOT NULL,
  PRIMARY KEY (`idSvømming`),
  INDEX `idKondisjonsøvelse_idx` (`idKondisjonsøvelse` ASC),
  CONSTRAINT `idKondisjonsøvelse`
    FOREIGN KEY (`idKondisjonsøvelse`)
    REFERENCES `mydb`.`Kondisjonsøvelse` (`idKondisjonsøvelse`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Øvelse_has_Øvelse`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Øvelse_has_Øvelse` (
  `Øvelse_idØvelse` INT NOT NULL,
  `Øvelse_idØvelse1` INT NOT NULL,
  PRIMARY KEY (`Øvelse_idØvelse`, `Øvelse_idØvelse1`),
  INDEX `fk_Øvelse_has_Øvelse_Øvelse2_idx` (`Øvelse_idØvelse1` ASC),
  INDEX `fk_Øvelse_has_Øvelse_Øvelse1_idx` (`Øvelse_idØvelse` ASC),
  CONSTRAINT `fk_Øvelse_has_Øvelse_Øvelse1`
    FOREIGN KEY (`Øvelse_idØvelse`)
    REFERENCES `mydb`.`Øvelse` (`idØvelse`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Øvelse_has_Øvelse_Øvelse2`
    FOREIGN KEY (`Øvelse_idØvelse1`)
    REFERENCES `mydb`.`Øvelse` (`idØvelse`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
